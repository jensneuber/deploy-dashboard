(this["webpackJsonpdeploy-ts"]=this["webpackJsonpdeploy-ts"]||[]).push([[0],{174:function(e,t,a){e.exports=a(504)},179:function(e,t,a){},183:function(e,t,a){},504:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),o=a.n(c),l=(a(179),a(180),a(181),a(26)),u=a.n(l),i=a(46),s=a(19),m=(a(183),a(53)),d=a(514),E=a(517),h=a(519),f=a(505),b=a(518),p=a(515),v=a(513),g=function(e){var t=e.setAuth,a=Object(m.useLocalStorage)("username"),c=Object(s.a)(a,2),o=c[0],l=c[1],u=Object(m.useLocalStorage)("token"),i=Object(s.a)(u,3),d=i[0],E=i[1],b=i[2];return Object(n.useEffect)((function(){void 0===d&&E("")}),[E,d]),Object(n.useEffect)((function(){if(o&&d&&""!==o&&""!==d){var e=function(e,t){return btoa("".concat(e,":").concat(t))}(o,d);t(e)}else t(void 0)}),[o,d,t]),r.a.createElement(h.a,null,r.a.createElement("h3",null,"Credentials"),r.a.createElement(p.a,null,r.a.createElement(p.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{onChange:function(e){l(e.target.value)},value:o||void 0})),r.a.createElement(p.a.Field,null,r.a.createElement("label",null,"Token"),r.a.createElement(v.a,{value:d||"",label:d?r.a.createElement(f.a,{onClick:function(){b()},size:"small",color:"red"},"Delete Token"):null,labelPosition:"right",onChange:function(e){E(e.target.value)}}))))},O=function(e){var t=e.ottienv,a=e.setOttienv;return r.a.createElement(h.a,null,r.a.createElement(b.a,{as:"h3"},"Otti Env"),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{inline:!0},["dev","stage","live"].map((function(e){return r.a.createElement(p.a.Radio,{label:e,key:e,checked:t===e,onChange:function(){a(e)}})})))))},j=function(e){var t=e.ios,a=e.android,n=e.setIos,c=e.setAndroid;return r.a.createElement(h.a,null,r.a.createElement(b.a,{as:"h3"},"Platform"),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{inline:!0},r.a.createElement(p.a.Checkbox,{label:"ios",checked:t,onChange:function(){n(!t)}}),r.a.createElement(p.a.Checkbox,{label:"android",checked:a,onChange:function(){c(!a)}}))))},w=function(e){var t=e.station,a=e.setStation;return r.a.createElement(h.a,null,r.a.createElement(b.a,{as:"h3"},"Station"),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{inline:!0},["wdr2","wdr5","einslive"].map((function(e){return r.a.createElement(p.a.Radio,{label:e,type:"radio",checked:t===e,onChange:function(){a(e)}})})))))},k=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r,c,o,l,i,s,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.auth,n=t.body,r=t.endpoint,c=t.method,o=t.onError,l=t.onSuccess,i={method:c,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(a)},body:void 0},n&&(i.body=n),e.next=5,fetch("https://api.github.com/repos/WestdeutscherRundfunkKoeln/react-native-wdr-boilerplate/".concat(r),i);case 5:return s=e.sent,e.next=8,s.json();case 8:return m=e.sent,s.status>320?o&&o("Status: ".concat(s.status," | Response ").concat(JSON.stringify(m,null,2))):l&&l("Status: ".concat(s.status," | Response ").concat(JSON.stringify(m,null,2))),e.abrupt("return",m);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=a(55),S=function(e){var t=e.auth,a=void 0===t?"":t,c=e.branch,o=e.setBranch,l=e.onError,m=Object(n.useState)(["master","develop"]),d=Object(s.a)(m,2),E=d[0],v=d[1],g=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({onError:l,auth:a,method:"GET",endpoint:"branches"});case 2:t=e.sent,n=t.map((function(e){return e.name})),r=Object(y.intersection)(E,n),v(Object(y.uniq)(r.concat(n)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(c&&""!==c){var e=Object(y.uniq)([c].concat(E));e!==E&&v(e)}}),[v]),r.a.createElement(h.a,null,r.a.createElement(h.a,{clearing:!0,basic:!0},r.a.createElement(f.a,{primary:!0,disabled:!a,onClick:function(){g()},floated:"right"},"Get branches from Github"),r.a.createElement(b.a,{as:"h3",floated:"left"},"Branch")),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{inline:!0},Object(y.chunk)(E,Math.max(6,Math.ceil(E.length/3))).map((function(e,t){return r.a.createElement(p.a.Group,{grouped:!0,key:"chunk-".concat(t)},e.map((function(e){return r.a.createElement(p.a.Radio,{label:e,checked:e===c,key:e,onChange:function(){o(e)}})})))})))))},C=a(81),R=a.n(C),x=function(){var e=Object(m.useLocalStorage)("branch"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("wdr5"),l=Object(s.a)(o,2),p=l[0],v=l[1],y=Object(n.useState)("dev"),C=Object(s.a)(y,2),x=C[0],G=C[1],A=Object(n.useState)(!1),B=Object(s.a)(A,2),J=B[0],N=B[1],T=Object(n.useState)(!1),W=Object(s.a)(T,2),q=W[0],I=W[1],K=Object(n.useState)(),L=Object(s.a)(K,2),P=L[0],z=L[1],F=Object(n.useState)(),M=Object(s.a)(F,2),D=M[0],U=M[1],$=Object(n.useState)(),_=Object(s.a)($,2),H=_[0],Q=_[1],V={ref:a,auto_merge:!1,payload:{ottienv:x,station:p,platform:{ios:J,android:q}}},X=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(void 0),e.next=3,k({onError:Y,onSuccess:function(e){return z(e)},auth:D,method:"POST",endpoint:"deployments",body:JSON.stringify(V)});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){Q(e)};return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Row,{columns:1},r.a.createElement(E.a.Column,null,r.a.createElement(g,{setAuth:U}))),r.a.createElement(E.a.Row,{columns:1},r.a.createElement(E.a.Column,null,r.a.createElement(S,{branch:a,setBranch:c,auth:D,onError:Y}))),r.a.createElement(E.a.Row,{columns:3},r.a.createElement(E.a.Column,null,r.a.createElement(w,{station:p,setStation:v})),r.a.createElement(E.a.Column,null,r.a.createElement(O,{ottienv:x,setOttienv:G})),r.a.createElement(E.a.Column,null,r.a.createElement(j,{ios:J,android:q,setIos:N,setAndroid:I}))),r.a.createElement(E.a.Row,{columns:1},r.a.createElement(E.a.Column,null,r.a.createElement(h.a,{secondary:!0,textAlign:"right"},r.a.createElement(f.a,{primary:!0,onClick:function(){X()}},"Send"),P&&r.a.createElement(h.a,{textAlign:"left"},"Go to ",r.a.createElement("a",{href:"https://github.com/WestdeutscherRundfunkKoeln/react-native-wdr-boilerplate/actions"},"https://github.com/WestdeutscherRundfunkKoeln/react-native-wdr-boilerplate/actions")," to see your action running!")))),H&&r.a.createElement(E.a.Row,{columns:1},r.a.createElement(E.a.Column,null,r.a.createElement(h.a,{color:"red"},r.a.createElement(b.a,{as:"h3"},"Error"),r.a.createElement(R.a,{language:"json"},H)))),r.a.createElement(E.a.Row,{columns:2},r.a.createElement(E.a.Column,null,r.a.createElement(h.a,{secondary:!0},r.a.createElement(b.a,{as:"h3"},"Request"),r.a.createElement(R.a,{language:"json"},JSON.stringify(V,null,2)))),r.a.createElement(E.a.Column,null,r.a.createElement(h.a,{secondary:!0},r.a.createElement(b.a,{as:"h3"},"Response"),P?r.a.createElement(R.a,{language:"json"},P):"Send request first ..."))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[174,1,2]]]);
//# sourceMappingURL=main.2ce6fd2a.chunk.js.map